!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t="width",e="height",i="max-width",n="min-width",o="max-height",r="min-height",s="resize-right",a="resize-bottom",h="resize-top",l="resize-left",d="resize-bottom-right",c="resize-bottom-left",p="resize-top-left",u="resize-top-right",g="200px",b="200px",v="right",m="left",f="bottom",w="top",x="bottom-right",H="bottom-left",z="top-left",_="top-right";class C{#t=null;#e=null;onChange=null;constructor(t,e){if(!t)throw new Error('resize-observer-manager: Missing "container" argument');if(!e)throw new Error('resize-observer-manager: Missing "onChange" argument');this.#t=t,this.onChange=e}subscribe(){this.#e=new ResizeObserver((t=>this._onResize.call(this,t))),this.#e.observe(this.#t)}unsubscribe(){this.#e.disconnect()}_onResize(t){if(!t||!t[0])return;const{width:e,height:i}=t[0].contentRect,n={width:e,height:i};this.onChange(n)}}function R(t){return/[0-9]+(?:\.[0-9]+)?(?=px)/.test(t)}class B extends HTMLElement{#t=null;#e=null;static observedAttributes=[t,e,s,a,l,h,p,c,u,d];handlesAddMethodMap={[s]:this._addRightHandle,[a]:this._addBottomHandle,[d]:this._addBottomRightHandle,[l]:this._addLeftHandle,[c]:this._addBottomLeftHandle,[p]:this._addTopLeftHandle,[u]:this._addTopRightHandle,[h]:this._addTopHandle};attributesToPositionMap={[s]:v,[a]:f,[d]:x,[l]:m,[c]:H,[p]:z,[u]:_,[h]:w};constructor(){super()}connectedCallback(){const i=this.attachShadow({mode:"open"}),n=document.createElement("template");n.innerHTML='<div class="resizer" data-cy="resizer-container"> <style>:host{--box-width:20px;--box-overflow:calc(var(--box-width) / 2)}.resizer{position:relative}.handle{position:absolute}.handle:hover{background-color:#83c0e975}.handle.right{cursor:col-resize;width:var(--box-width);height:100%;right:calc(-1 * var(--box-overflow));top:0}.handle.left{cursor:col-resize;width:var(--box-width);height:100%;left:calc(-1 * var(--box-overflow));top:0}.handle.bottom{cursor:row-resize;height:var(--box-width);width:100%;bottom:calc(-1 * var(--box-overflow))}.handle.top{cursor:row-resize;height:var(--box-width);width:100%;top:calc(-1 * var(--box-overflow))}.handle.bottom-right{z-index:10;cursor:se-resize;height:var(--box-width);width:var(--box-width);bottom:calc(-1 * var(--box-overflow));right:calc(-1 * var(--box-overflow))}.handle.bottom-left{z-index:10;cursor:sw-resize;height:var(--box-width);width:var(--box-width);bottom:calc(-1 * var(--box-overflow));left:calc(-1 * var(--box-overflow))}.handle.top-left{z-index:10;cursor:nw-resize;height:var(--box-width);width:var(--box-width);top:calc(-1 * var(--box-overflow));left:calc(-1 * var(--box-overflow))}.handle.top-right{z-index:10;cursor:ne-resize;height:var(--box-width);width:var(--box-width);top:calc(-1 * var(--box-overflow));right:calc(-1 * var(--box-overflow))}</style> <slot name="content"></slot> </div>',i.appendChild(n.content.cloneNode(!0)),this.#t=i.querySelector(".resizer"),this.#e=new C(this.#t,(t=>this.dispatch("resize",t))),this.#e.subscribe();const o=this.getAttribute(t);o&&R(o)?this.#t.style.width=o:(this.#t.style.width=g,console.error(`Please set a ${t} attribute to the resizer tag.`));const r=this.getAttribute(e);r&&R(r)?this.#t.style.height=r:(this.#t.style.height=b,console.error(`Please set a ${e} attribute to the resizer tag.`)),this._addResizeHandles()}disconnectedCallback(){this.#e.unsubscribe()}attributeChangedCallback(i,n,o){null!==n&&(i!==t&&i!==e?B.observedAttributes.includes(i)&&(this.attributeIsValid(i)?this.handlesAddMethodMap[i].call(this):this._removeResizeHandle(this.attributesToPositionMap[i])):this.#t.style[i]=o)}dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!1,detail:e}))}get maxWidth(){const t=this.getAttribute(i);return R(t)?parseInt(t,10):0}get minWidth(){const t=this.getAttribute(n);return R(t)?parseInt(t,10):0}get maxHeight(){const t=this.getAttribute(o);return R(t)?parseInt(t,10):0}get minHeight(){const t=this.getAttribute(r);return R(t)?parseInt(t,10):0}attributeIsValid(t){if(!this.hasAttribute(t))return!1;const e=this.getAttribute(t);return""===e||"true"===e}_addResizeHandles(){for(const[t,e]of Object.entries(this.handlesAddMethodMap))this.attributeIsValid(t)&&e.call(this)}_removeResizeHandle(t){const e=this.#t.querySelector(`.handle.${t}`);this.#t.removeChild(e)}_createHandle(t){let e=`<div class='handle ${t}' part='handle handle-${t}' data-cy='handle-${t}'></div>`;this.#t.insertAdjacentHTML("beforeend",e);return this.#t.querySelector(`.handle.${t}`)}_addRightHandle(){const t=this._createHandle(v);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().left;t.setPointerCapture(e.pointerId),t.onpointermove=t=>this._setWidth(t.clientX,i,"right"),t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addLeftHandle(){const t=this._createHandle(m);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().right;t.setPointerCapture(e.pointerId),t.onpointermove=t=>this._setWidth(t.clientX,i,"left"),t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addBottomHandle(){const t=this._createHandle(f);t.onpointerdown=e=>{e.preventDefault();const i=e.clientY-t.getBoundingClientRect().top;t.setPointerCapture(e.pointerId),t.onpointermove=t=>this._setHeight(t.clientY,i,"bottom"),t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addTopHandle(){const t=this._createHandle(w);t.onpointerdown=e=>{e.preventDefault();const i=e.clientY-t.getBoundingClientRect().bottom;t.setPointerCapture(e.pointerId),t.onpointermove=t=>this._setHeight(t.clientY,i,"top"),t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addBottomRightHandle(){const t=this._createHandle(x);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().left,n=e.clientY-t.getBoundingClientRect().top;t.setPointerCapture(e.pointerId),t.onpointermove=t=>{this._setWidth(t.clientX,i,"right"),this._setHeight(t.clientY,n,"bottom")},t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addBottomLeftHandle(){const t=this._createHandle(H);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().left,n=e.clientY-t.getBoundingClientRect().top;t.setPointerCapture(e.pointerId),t.onpointermove=t=>{this._setWidth(t.clientX,i,"left"),this._setHeight(t.clientY,n,"bottom")},t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addTopLeftHandle(){const t=this._createHandle(z);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().left,n=e.clientY-t.getBoundingClientRect().top;t.setPointerCapture(e.pointerId),t.onpointermove=t=>{this._setWidth(t.clientX,i,"left"),this._setHeight(t.clientY,n,"top")},t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_addTopRightHandle(){const t=this._createHandle(_);t.onpointerdown=e=>{e.preventDefault();const i=e.clientX-t.getBoundingClientRect().left,n=e.clientY-t.getBoundingClientRect().bottom;t.setPointerCapture(e.pointerId),t.onpointermove=t=>{this._setWidth(t.clientX,i,"right"),this._setHeight(t.clientY,n,"top")},t.onpointerup=()=>{t.onpointermove=null,t.onpointerup=null}},t.ondragstart=()=>!1}_setHeight=(t,e,i)=>{let n=t-e-this.#t.getBoundingClientRect()[{bottom:"top",top:"bottom"}[i]];n="top"===i?-n:n,this.maxHeight&&n>=this.maxHeight&&(n=this.maxHeight),this.minHeight&&n<=this.minHeight&&(n=this.minHeight),this.#t.style.height=`${n}px`};_setWidth=(t,e,i)=>{let n=t-e-this.#t.getBoundingClientRect()[{left:"right",right:"left"}[i]];n="left"===i?-n:n,this.maxWidth&&n>=this.maxWidth&&(n=this.maxWidth),this.minWidth&&n<=this.minWidth&&(n=this.minWidth),this.#t.style.width=`${n}px`}}customElements.define("resizer-box",B)}));
//# sourceMappingURL=resizer-box.min.js.map
